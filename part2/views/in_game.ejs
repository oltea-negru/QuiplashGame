<div class="fixed-top">
    <h4> Audience members: </h4>
    <div v-for="member in audience">
        <p>{{member}}</p>
    </div>
</div>
<div v-if="gameState.state==1">
    <div class="player_card">
        <h2>{{me.username}}</h2>
    </div>
    <h3>Write something funny aka prompt </h3>
    <h4>Round {{gameState.round}}/3</h4>

    <div v-if="clicked==true">
        <p>Waiting for other players to finish their prompts</p>
    </div>
    <div v-else class="form-group shadow-textarea">
        <textarea v-model="prompt" class="form-control z-depth-1" placeholder="Write something here..."></textarea>
        <button v-on:click="createPrompt()" class="btn btn-dark">Submit</button>
    </div>
    <button v-if="me.username==players[0]" v-on:click="getPrompts()" class="btn btn-dark">Answers Battle?</button>
</div>
<div v-else-if="gameState.state==2">
    <div v-if="!audience.includes(me.username)">
        <div v-if="prompt1!=''">
            <div class="player_card">
                <h2>{{me.username}}</h2>
            </div>
            <h3>Answer this prompt</h3><br />
            <h3><i>{{prompt1}}</i> </h3>
            <br />

            <h4>Round {{gameState.round}}/3</h4>
            <div>
                <textarea v-model="answer1" class="form-control z-depth-1"
                    placeholder="Write something here..."></textarea>
                <button v-on:click="submitAnswer()" class="btn btn-dark">Submit</button>
            </div>
        </div>
        <div v-else>
            <p>Others need to finish their answers</p>
        </div>
        <button v-if="me.username==players[0]" v-on:click="vote()" class="btn btn-dark">Voting Time</button>
    </div>
    <div v-else>
        <h3>Players are coming up with funny answers!
            <br> Sit back and enjoy the show!
        </h3>
    </div>
</div>
<div v-else>
    <div v-if="me.voteIndex<gameState.currentPrompts.length">
        <h2>{{gameState.currentPrompts[me.voteIndex]}}</h2>
        <div v-if="gameState.currentPlayerPairs[me.voteIndex].includes(me.username)">
            <h3>Enjoy the game while the others laugh at your answers!</h3>
        </div>
        <div v-else>
            <div class="aligned">
                <div class="answers_box" v-for="answer in gameState.currentAnswers[me.voteIndex]">
                    <button class="btn btn-dark btn-lg active" v-on:click="selectAnswer(answer)">{{answer}}
                    </button>
                </div>
                <div v-if="clicked==true" class="answers_box">
                    <p v-for=" player in gameState.whoAnswered[me.voteIndex]" class="btn btn-dark">{{player}}
                    </p>
                    <p v-for="vote in gameState.voteCount[me.voteIndex]" class="btn btn-dark">{{vote}}</p>
                </div>
            </div>
            <button v-if="clicked==false" v-on:click="voteFor()">Vote</button>
        </div>
    </div>
    <div v-else>
        <h1>This round has finished x</h1>
        <button v-if="me.username==players[0]" v-on:click="seeScores()" class="btn btn-dark">See Results</button>
    </div>
    <button v-if="me.username==players[0]" v-on:click="next()" class="btn btn-dark">Next Step</button>
</div>